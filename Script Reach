-- Create the GUI
local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local TitleBar = Instance.new("Frame")
local TitleLabel = Instance.new("TextLabel")
local Resizer = Instance.new("Frame")

-- Properties for ScreenGui
ScreenGui.Parent = playerGui

-- Main Frame Properties
MainFrame.Parent = ScreenGui
MainFrame.Size = UDim2.new(0.4, 0, 0.4, 0)
MainFrame.Position = UDim2.new(0.3, 0, 0.3, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.BorderSizePixel = 0
MainFrame.BackgroundTransparency = 0.1
MainFrame.ClipsDescendants = true

-- Title Bar Properties
TitleBar.Parent = MainFrame
TitleBar.Size = UDim2.new(1, 0, 0.1, 0)
TitleBar.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
TitleBar.BorderSizePixel = 0

-- Title Label Properties
TitleLabel.Parent = TitleBar
TitleLabel.Size = UDim2.new(1, 0, 1, 0)
TitleLabel.Text = "zam2109 HUB" -- Set the title to "zam2109 HUB"
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.BackgroundTransparency = 1
TitleLabel.TextScaled = true
TitleLabel.TextStrokeTransparency = 0.5 -- Optional: Add stroke for better visibility

-- Resizer Properties
Resizer.Parent = MainFrame
Resizer.Size = UDim2.new(0.05, 0, 0.05, 0)
Resizer.Position = UDim2.new(1, -5, 1, -5)
Resizer.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
Resizer.BorderSizePixel = 0
Resizer.AnchorPoint = Vector2.new(1, 1)

-- Variables for dragging
local dragging = false
local dragStart = Vector2.new()
local startPos = MainFrame.Position

-- Function to update the position of the frame
local function updatePosition(input)
    local delta = input.Position - dragStart
    MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

-- Title Bar Dragging
TitleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

-- Update position while dragging
game:GetService("User InputService").InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement and dragging then
        updatePosition(input)
    end
end)

-- Resizing Functionality
local function resize(input)
    local newSize = UDim2.new(0, input.Position.X - MainFrame.AbsolutePosition.X, 0, input.Position.Y - MainFrame.AbsolutePosition.Y)
    MainFrame.Size = UDim2.new(math.clamp(newSize.X.Scale, 0.2, 1), 0, math.clamp(newSize.Y.Scale, 0.2, 1), 0)
end

-- Resizer Dragging
Resizer.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

-- Update size while resizing
game:GetService("User InputService").InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement and dragging then
        resize(input)
    end
end)
